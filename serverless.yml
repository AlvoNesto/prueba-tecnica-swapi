service: serverless-app

plugins:
 - serverless-offline

provider:
 name: aws
 runtime: nodejs18.x
 profile: alvaro

functions:
  # NEW SWAPI:
  # AddFilmsNewSwapiFunction:
  #   name: AddFilmsNewSwapiFunction
  #   handler: src/create.handler
  #   events:
  #     - httpApi:
  #         path: /films
  #         method: post
  
  # OLD SWAPI:
  GetFilmsOldSwapiFunction:
    name: GetFilmsOldSwapiFunction
    handler: dist/main.handler
    timeout: 30
    events:
      - httpApi:
          path: /old/films
          method: get
  GetFilmsByIdOldSwapiFunction:
    name: GetFilmsByIdOldSwapiFunction
    handler: dist/main.handler
    timeout: 30
    events:
      - httpApi:
          path: /old/films/{id}
          method: get
  
  GetPeopleOldSwapiFunction:
    name: GetPeopleOldSwapiFunction
    handler: dist/main.handler
    timeout: 30
    events:
      - httpApi:
          path: /old/people
          method: get
  GetPeopleByIdOldSwapiFunction:
    name: GetPeopleByIdOldSwapiFunction
    handler: dist/main.handler
    timeout: 30
    events:
      - httpApi:
          path: /old/people/{id}
          method: get
